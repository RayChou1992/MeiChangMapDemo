package com.example.ray.meichangmapdemo;

import android.support.v7.app.AppCompatActivity;
import android.os.Bundle;
import android.widget.RelativeLayout;

import com.google.gson.Gson;

public class MainActivity extends AppCompatActivity {

    RelativeLayout rl_meichangmap;
    MeiChangMapBean mapBean;
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        rl_meichangmap=(RelativeLayout)findViewById(R.id.rl_meichangmap);

        getMeiChangMap();

    }

    /**
     *   "width": canvas.width - ((canvas.width - translateX) * 0.3934681181959565) - translateX - ((canvas.width - translateX) * 0.0139968895800933),
     "height": canvas.height,
     "yard": f.yardId
     */
    private void getMeiChangMap() {
        mapBean=new Gson().fromJson("{\"ylList\":[{\"NAME\":\"信标1\",\"YARD\":\"汽车沟\",\"LOCATION_X\":185,\"LOCATION_Y\":12,\"HEIGHT\":20,\"FLAG\":1,\"WIDTH\":200},{\"NAME\":\"信标2\",\"YARD\":\"火车沟\",\"LOCATION_X\":190,\"LOCATION_Y\":19,\"HEIGHT\":20,\"FLAG\":0,\"WIDTH\":500}],\"mc\":{\"id\":1,\"name\":\"一期\",\"maxLat\":40.069522,\"maxLng\":113.198042,\"status\":1,\"acctTime\":\"2017-05-09\",\"acctUser\":0,\"updateTime\":\"2017-05-09\",\"org\":\"1\",\"xD\":0.0,\"yD\":234.00000000000009,\"xR\":394.0357698289267,\"yR\":234.00000000000009,\"xU\":394.0357698289267,\"yU\":0.0,\"xL\":0.0,\"yL\":0.0,\"minLat\":40.066651,\"minLng\":113.191332,\"url\":null},\"coalData\":{\"二期\":\"143046.4\",\"三期\":\"131874.79\",\"一期\":\"264276.4\"},\"doulj\":[{\"course\":null,\"lng\":72.17138019668418,\"courseAngle\":15,\"lat\":201.23510971786843},{\"course\":\"SW\",\"lng\":120.26605910724915,\"courseAngle\":230.11,\"lat\":86.63949843260191}],\"mdList\":[{\"amount\":5000.0,\"qe\":5300.0,\"sgq\":0.45,\"xDu\":0.0,\"yDu\":0.0,\"xRu\":0.0,\"yRu\":0.0,\"xUu\":0.0,\"yUu\":0.0,\"xLu\":0.0,\"yLu\":0.0,\"h\":0.0,\"id\":0,\"name\":\"甲煤场南侧1\",\"latD\":0.0,\"lngD\":0.0,\"status\":0,\"acctTime\":null,\"acctUser\":0,\"updateTime\":null,\"belong\":null,\"xD\":13.447718523222683,\"yD\":184.11912225705336,\"xR\":72.17138019668418,\"yR\":184.11912225705336,\"xU\":72.17138019668418,\"yU\":101.79937304075239,\"xL\":13.447718523222683,\"yL\":101.79937304075239,\"latR\":0.0,\"lngR\":0.0,\"latU\":0.0,\"lngU\":0.0,\"latL\":0.0,\"lngL\":0.0,\"org\":null},{\"amount\":5250.0,\"qe\":5300.0,\"sgq\":0.45,\"xDu\":0.0,\"yDu\":0.0,\"xRu\":0.0,\"yRu\":0.0,\"xUu\":0.0,\"yUu\":0.0,\"xLu\":0.0,\"yLu\":0.0,\"h\":0.0,\"id\":0,\"name\":\"甲煤场北侧1\",\"latD\":0.0,\"lngD\":0.0,\"status\":0,\"acctTime\":null,\"acctUser\":0,\"updateTime\":null,\"belong\":null,\"xD\":13.447718523222683,\"yD\":73.43573667711601,\"xR\":130.8950418701457,\"yR\":73.43573667711601,\"xU\":130.8950418701457,\"yU\":5.623824451410661,\"xL\":13.447718523222683,\"yL\":5.623824451410661,\"latR\":0.0,\"lngR\":0.0,\"latU\":0.0,\"lngU\":0.0,\"latL\":0.0,\"lngL\":0.0,\"org\":null},{\"amount\":5000.0,\"qe\":5300.0,\"sgq\":0.45,\"xDu\":0.0,\"yDu\":0.0,\"xRu\":0.0,\"yRu\":0.0,\"xUu\":0.0,\"yUu\":0.0,\"xLu\":0.0,\"yLu\":0.0,\"h\":0.0,\"id\":0,\"name\":\"甲煤场南侧3\",\"latD\":0.0,\"lngD\":0.0,\"status\":0,\"acctTime\":null,\"acctUser\":0,\"updateTime\":null,\"belong\":null,\"xD\":236.5976328823764,\"yD\":184.11912225705336,\"xR\":389.2791532333763,\"yR\":184.11912225705336,\"xU\":389.2791532333763,\"yU\":101.79937304075239,\"xL\":236.5976328823764,\"yL\":101.79937304075239,\"latR\":0.0,\"lngR\":0.0,\"latU\":0.0,\"lngU\":0.0,\"latL\":0.0,\"lngL\":0.0,\"org\":null},{\"amount\":2000.0,\"qe\":5400.0,\"sgq\":0.4,\"xDu\":0.0,\"yDu\":0.0,\"xRu\":0.0,\"yRu\":0.0,\"xUu\":0.0,\"yUu\":0.0,\"xLu\":0.0,\"yLu\":0.0,\"h\":0.0,\"id\":0,\"name\":\"甲煤场南侧2\",\"latD\":0.0,\"lngD\":0.0,\"status\":0,\"acctTime\":null,\"acctUser\":0,\"updateTime\":null,\"belong\":null,\"xD\":78.04374636403034,\"yD\":184.11912225705336,\"xR\":230.72526671503024,\"yR\":184.11912225705336,\"xU\":230.72526671503024,\"yU\":101.79937304075239,\"xL\":78.04374636403034,\"yL\":101.79937304075239,\"latR\":0.0,\"lngR\":0.0,\"latU\":0.0,\"lngU\":0.0,\"latL\":0.0,\"lngL\":0.0,\"org\":null},{\"amount\":2000.0,\"qe\":5400.0,\"sgq\":0.4,\"xDu\":0.0,\"yDu\":0.0,\"xRu\":0.0,\"yRu\":0.0,\"xUu\":0.0,\"yUu\":0.0,\"xLu\":0.0,\"yLu\":0.0,\"h\":0.0,\"id\":0,\"name\":\"甲煤场北侧3\",\"latD\":0.0,\"lngD\":0.0,\"status\":0,\"acctTime\":null,\"acctUser\":0,\"updateTime\":null,\"belong\":null,\"xD\":236.5976328823764,\"yD\":73.43573667711601,\"xR\":383.4067870660301,\"yR\":73.43573667711601,\"xU\":383.4067870660301,\"yU\":5.623824451410661,\"xL\":236.5976328823764,\"yL\":5.623824451410661,\"latR\":0.0,\"lngR\":0.0,\"latU\":0.0,\"lngU\":0.0,\"latL\":0.0,\"lngL\":0.0,\"org\":null},{\"amount\":5000.0,\"qe\":4230.0,\"sgq\":2.55,\"xDu\":0.0,\"yDu\":0.0,\"xRu\":0.0,\"yRu\":0.0,\"xUu\":0.0,\"yUu\":0.0,\"xLu\":0.0,\"yLu\":0.0,\"h\":0.0,\"id\":0,\"name\":\"甲煤场北侧2\",\"latD\":0.0,\"lngD\":0.0,\"status\":0,\"acctTime\":null,\"acctUser\":0,\"updateTime\":null,\"belong\":null,\"xD\":136.76740803749183,\"yD\":73.43573667711601,\"xR\":230.72526671503024,\"yR\":73.43573667711601,\"xU\":230.72526671503024,\"yU\":5.623824451410661,\"xL\":136.76740803749183,\"yL\":5.623824451410661,\"latR\":0.0,\"lngR\":0.0,\"latU\":0.0,\"lngU\":0.0,\"latL\":0.0,\"lngL\":0.0,\"org\":null}]}"
                //        mapBean=new Gson().fromJson("{\"ylList\":[],\"mc\":{\"id\":2,\"name\":\"二期\",\"maxLat\":40.03545267,\"maxLng\":113.30453114,\"status\":1,\"acctTime\":\"2017-08-15\",\"acctUser\":0,\"updateTime\":\"2017-08-15\",\"org\":\"2\",\"xD\":0.0,\"yD\":239.00000000000006,\"xR\":480.0000000000001,\"yR\":239.00000000000006,\"xU\":480.0000000000001,\"yU\":0.0,\"xL\":0.0,\"yL\":0.0,\"minLat\":40.03323471,\"minLng\":113.30173406,\"url\":null},\"coalData\":{\"二期\":\"143046.4\",\"三期\":\"131874.79\",\"一期\":\"264276.4\"},\"doulj\":[{\"course\":null,\"lng\":171.6075335707238,\"courseAngle\":120,\"lat\":91.37335208930732},{\"course\":\"SW\",\"lng\":343.2150671414476,\"courseAngle\":60,\"lat\":206.67299680787758}],\"mdList\":[{\"amount\":50425.6,\"qe\":4615.22,\"sgq\":0.99,\"xDu\":0.0,\"yDu\":0.0,\"xRu\":0.0,\"yRu\":0.0,\"xUu\":0.0,\"yUu\":0.0,\"xLu\":0.0,\"yLu\":0.0,\"h\":0.0,\"id\":0,\"name\":\"煤场西煤场北部1\",\"latD\":0.0,\"lngD\":0.0,\"status\":0,\"acctTime\":null,\"acctUser\":0,\"updateTime\":null,\"belong\":null,\"xD\":0.006864301342828952,\"yD\":195.89732907717007,\"xR\":171.61439787206663,\"yR\":195.89732907717007,\"xU\":171.61439787206663,\"yU\":103.446410214792,\"xL\":0.006864301342828952,\"yL\":103.446410214792,\"latR\":0.0,\"lngR\":0.0,\"latU\":0.0,\"lngU\":0.0,\"latL\":0.0,\"lngL\":0.0,\"org\":null},{\"amount\":19685.9,\"qe\":4921.0,\"sgq\":0.8,\"xDu\":0.0,\"yDu\":0.0,\"xRu\":0.0,\"yRu\":0.0,\"xUu\":0.0,\"yUu\":0.0,\"xLu\":0.0,\"yLu\":0.0,\"h\":0.0,\"id\":0,\"name\":\"煤场东煤场北部\",\"latD\":0.0,\"lngD\":0.0,\"status\":0,\"acctTime\":null,\"acctUser\":0,\"updateTime\":null,\"belong\":null,\"xD\":0.0,\"yD\":81.895074753377,\"xR\":171.6075335707238,\"yR\":81.895074753377,\"xU\":171.6075335707238,\"yU\":0.0,\"xL\":0.0,\"yL\":0.0,\"latR\":0.0,\"lngR\":0.0,\"latU\":0.0,\"lngU\":0.0,\"latL\":0.0,\"lngL\":0.0,\"org\":null},{\"amount\":1165.3,\"qe\":4910.0,\"sgq\":0.83,\"xDu\":0.0,\"yDu\":0.0,\"xRu\":0.0,\"yRu\":0.0,\"xUu\":0.0,\"yUu\":0.0,\"xLu\":0.0,\"yLu\":0.0,\"h\":0.0,\"id\":0,\"name\":\"煤场西煤场中部\",\"latD\":0.0,\"lngD\":0.0,\"status\":0,\"acctTime\":null,\"acctUser\":0,\"updateTime\":null,\"belong\":null,\"xD\":171.61439787206663,\"yD\":195.89732907717007,\"xR\":342.3638937749368,\"yR\":195.89732907717007,\"xU\":342.3638937749368,\"yU\":103.446410214792,\"xL\":171.61439787206663,\"yL\":103.446410214792,\"latR\":0.0,\"lngR\":0.0,\"latU\":0.0,\"lngU\":0.0,\"latL\":0.0,\"lngL\":0.0,\"org\":null},{\"amount\":42407.2,\"qe\":4092.0,\"sgq\":1.9,\"xDu\":0.0,\"yDu\":0.0,\"xRu\":0.0,\"yRu\":0.0,\"xUu\":0.0,\"yUu\":0.0,\"xLu\":0.0,\"yLu\":0.0,\"h\":0.0,\"id\":0,\"name\":\"煤场东煤场南 部\",\"latD\":0.0,\"lngD\":0.0,\"status\":0,\"acctTime\":null,\"acctUser\":0,\"updateTime\":null,\"belong\":null,\"xD\":343.2150671414476,\"yD\":81.895074753377,\"xR\":480.0000000000001,\"yR\":81.895074753377,\"xU\":480.0000000000001,\"yU\":0.0,\"xL\":343.2150671414476,\"yL\":0.0,\"latR\":0.0,\"lngR\":0.0,\"latU\":0.0,\"lngU\":0.0,\"latL\":0.0,\"lngL\":0.0,\"org\":null},{\"amount\":4570.5,\"qe\":4011.0,\"sgq\":0.88,\"xDu\":0.0,\"yDu\":0.0,\"xRu\":0.0,\"yRu\":0.0,\"xUu\":0.0,\"yUu\":0.0,\"xLu\":0.0,\"yLu\":0.0,\"h\":0.0,\"id\":0,\"name\":\"煤场东煤场南 部\",\"latD\":0.0,\"lngD\":0.0,\"status\":0,\"acctTime\":null,\"acctUser\":0,\"updateTime\":null,\"belong\":null,\"xD\":343.2150671414476,\"yD\":81.895074753377,\"xR\":480.0000000000001,\"yR\":81.895074753377,\"xU\":480.0000000000001,\"yU\":0.0,\"xL\":343.2150671414476,\"yL\":0.0,\"latR\":0.0,\"lngR\":0.0,\"latU\":0.0,\"lngU\":0.0,\"latL\":0.0,\"lngL\":0.0,\"org\":null},{\"amount\":16572.4,\"qe\":3921.28,\"sgq\":0.87,\"xDu\":0.0,\"yDu\":0.0,\"xRu\":0.0,\"yRu\":0.0,\"xUu\":0.0,\"yUu\":0.0,\"xLu\":0.0,\"yLu\":0.0,\"h\":0.0,\"id\":0,\"name\":\"煤场西煤场北部1\",\"latD\":0.0,\"lngD\":0.0,\"status\":0,\"acctTime\":null,\"acctUser\":0,\"updateTime\":null,\"belong\":null,\"xD\":0.006864301342828952,\"yD\":195.89732907717007,\"xR\":171.61439787206663,\"yR\":195.89732907717007,\"xU\":171.61439787206663,\"yU\":103.446410214792,\"xL\":0.006864301342828952,\"yL\":103.446410214792,\"latR\":0.0,\"lngR\":0.0,\"latU\":0.0,\"lngU\":0.0,\"latL\":0.0,\"lngL\":0.0,\"org\":null},{\"amount\":8218.8,\"qe\":5284.62,\"sgq\":1.21,\"xDu\":0.0,\"yDu\":0.0,\"xRu\":0.0,\"yRu\":0.0,\"xUu\":0.0,\"yUu\":0.0,\"xLu\":0.0,\"yLu\":0.0,\"h\":0.0,\"id\":0,\"name\":\"煤场东煤场中部\",\"latD\":0.0,\"lngD\":0.0,\"status\":0,\"acctTime\":null,\"acctUser\":0,\"updateTime\":null,\"belong\":null,\"xD\":171.6075335707238,\"yD\":81.895074753377,\"xR\":343.2150671414476,\"yR\":81.895074753377,\"xU\":343.2150671414476,\"yU\":0.0,\"xL\":171.6075335707238,\"yL\":0.0,\"latR\":0.0,\"lngR\":0.0,\"latU\":0.0,\"lngU\":0.0,\"latL\":0.0,\"lngL\":0.0,\"org\":null},{\"amount\":0.0,\"qe\":4826.0,\"sgq\":1.34,\"xDu\":0.0,\"yDu\":0.0,\"xRu\":0.0,\"yRu\":0.0,\"xUu\":0.0,\"yUu\":0.0,\"xLu\":0.0,\"yLu\":0.0,\"h\":0.0,\"id\":0,\"name\":\"煤场西煤场南部1\",\"latD\":0.0,\"lngD\":0.0,\"status\":0,\"acctTime\":null,\"acctUser\":0,\"updateTime\":null,\"belong\":null,\"xD\":343.22193144279044,\"yD\":195.89732907717007,\"xR\":479.9931356986573,\"yR\":195.89732907717007,\"xU\":479.9931356986573,\"yU\":103.446410214792,\"xL\":343.22193144279044,\"yL\":103.446410214792,\"latR\":0.0,\"lngR\":0.0,\"latU\":0.0,\"lngU\":0.0,\"latL\":0.0,\"lngL\":0.0,\"org\":null}]}"


                ,MeiChangMapBean.class);
                setMeiChangMap(mapBean);
    }

    private void setMeiChangMap(MeiChangMapBean mapBean) {
        if (mapBean!=null){
            rl_meichangmap.addView(new MyMeiChangMapView(this,mapBean));
        }
    }
}
